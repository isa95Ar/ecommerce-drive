(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{7153:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return e(8417)}])},5141:function(t,n,e){"use strict";e.d(n,{Z:function(){return h}});var r=e(5893),o=(e(7294),e(7690)),c=e(189),u=e(6979),i=e(1163);function s(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function a(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),r.forEach((function(n){s(t,n,e[n])}))}return t}function l(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},c=Object.keys(t);for(r=0;r<c.length;r++)e=c[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)e=c[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}var f=function(t){var n=t.fill,e=void 0===n?"currentColor":n,o=t.size,c=t.height,u=t.width,i=l(t,["fill","size","height","width"]);return(0,r.jsx)("div",{style:{cursor:"pointer"},children:(0,r.jsxs)("svg",a({width:o||u||24,height:o||c||24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{children:[(0,r.jsx)("path",{d:"M16.25 22.5C17.2165 22.5 18 21.7165 18 20.75C18 19.7835 17.2165 19 16.25 19C15.2835 19 14.5 19.7835 14.5 20.75C14.5 21.7165 15.2835 22.5 16.25 22.5Z",fill:e}),(0,r.jsx)("path",{d:"M8.25 22.5C9.2165 22.5 10 21.7165 10 20.75C10 19.7835 9.2165 19 8.25 19C7.2835 19 6.5 19.7835 6.5 20.75C6.5 21.7165 7.2835 22.5 8.25 22.5Z",fill:e}),(0,r.jsx)("path",{d:"M4.84 3.94L4.64 6.39C4.6 6.86 4.97 7.25 5.44 7.25H20.75C21.17 7.25 21.52 6.93 21.55 6.51C21.68 4.74 20.33 3.3 18.56 3.3H6.27C6.17 2.86 5.97 2.44 5.66 2.09C5.16 1.56 4.46 1.25 3.74 1.25H2C1.59 1.25 1.25 1.59 1.25 2C1.25 2.41 1.59 2.75 2 2.75H3.74C4.05 2.75 4.34 2.88 4.55 3.1C4.76 3.33 4.86 3.63 4.84 3.94Z",fill:e}),(0,r.jsx)("path",{d:"M20.5101 8.75H5.17005C4.75005 8.75 4.41005 9.07 4.37005 9.48L4.01005 13.83C3.87005 15.54 5.21005 17 6.92005 17H18.0401C19.5401 17 20.8601 15.77 20.9701 14.27L21.3001 9.6C21.3401 9.14 20.9801 8.75 20.5101 8.75Z",fill:e})]}))})},d=e(2814),p=e(9398),h=function(t){var n=t.title,e=t.user,s=t.cart,a=(0,i.useRouter)();return(0,r.jsxs)("div",{className:"header",children:[e.logged&&(0,r.jsxs)("div",{className:"buttons-container",children:[(0,r.jsx)("div",{children:(0,r.jsx)(d.G,{onClick:function(){return a.push("/")},size:"lg",icon:p.wzO,style:{color:"white"}})}),(0,r.jsxs)("div",{className:"sessions-buttons",children:[(0,r.jsxs)(o.ZP,{className:"logout-button",onClick:function(){return a.push("/api/logout")},children:["Cerrar Session (",e.name,")"]}),s&&(0,r.jsx)(c.ZP,{css:{cursor:"pointer"},color:"warning",content:s.products.length,shape:"circle",children:(0,r.jsx)(f,{fill:"white",size:30,width:24,height:24,onClick:function(){return a.push("/cart")}})})]})]}),(0,r.jsx)(u.Z,{className:"header-text",children:n})]})}},8754:function(t,n,e){"use strict";e.d(n,{CP:function(){return x},g4:function(){return j},Xp:function(){return g}});var r=e(4051),o=e.n(r);function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function i(t,n,e){return(i=u()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&l(o,e.prototype),o}).apply(null,arguments)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,n){return!n||"object"!==f(n)&&"function"!==typeof n?c(t):n}function l(t,n){return(l=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var f=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function d(t){var n="function"===typeof Map?new Map:void 0;return d=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return i(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)},d(t)}function p(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=s(t);if(n){var o=s(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return a(this,e)}}var h=function(t){!function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&l(t,n)}(e,t);var n=p(e);function e(t){var r;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),r=n.call(this,t),Object.setPrototypeOf(c(r),e.prototype),r}return e.prototype.jsonOutPut=function(){return{error:!0,message:this.message}},e}(d(Error));function m(t,n,e,r,o,c,u){try{var i=t[c](u),s=i.value}catch(a){return void e(a)}i.done?n(s):Promise.resolve(s).then(r,o)}function y(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var c=t.apply(n,e);function u(t){m(c,r,o,u,i,"next",t)}function i(t){m(c,r,o,u,i,"throw",t)}u(void 0)}))}}var g=function(){var t=y(o().mark((function t(){var n,e,r,c,u=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:1,e=u.length>1&&void 0!==u[1]?u[1]:null,r="/api/products",e&&(r+="/"+e),t.next=5,fetch("".concat(r,"?page=").concat(n)).then((function(t){return t.json()}));case 5:return c=t.sent,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=y(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/categories").then((function(t){return t.json()}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=(function(){var t=y(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/cart/status").then((function(t){return t.json()}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))}(),function(){var t=y(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/admin/orders/to-post").then((function(t){return t.json()}));case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),new h(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}())},8417:function(t,n,e){"use strict";e.r(n),e.d(n,{__N_SSP:function(){return Z},default:function(){return O}});var r=e(5893),o=e(3165),c=e(4040),u=e(7501),i=e(2553),s=e(6353),a=e(7294),l=e(8773),f=e(9372),d=e(6979),p=e(5520),h=e(7690),m=e(2814),y=e(9398);function g(t){var n=t.item,e=t.addProduct,o=(0,a.useState)(1),u=o[0],s=o[1];return(0,r.jsx)(i.ZP,{xs:12,sm:12,md:12,lg:12,xl:12,children:(0,r.jsx)(l.ZP,{css:{margin:0},children:(0,r.jsxs)(l.ZP.Body,{className:"product-container",children:[(0,r.jsxs)(c.Z,{className:"text-container",children:[(0,r.jsx)(i.ZP,{sm:7,xs:7,lg:6,md:6,xl:6,justify:"center",children:(0,r.jsx)(f.ZP,{css:{width:100,height:100},className:"product-image",src:n.picture})}),(0,r.jsxs)(i.ZP,{className:"details-container",lg:6,md:6,xl:6,children:[(0,r.jsx)(d.Z,{className:"product-name",children:n.name}),(0,r.jsx)(d.Z,{className:"product-reference",children:n.minimum}),(0,r.jsxs)(d.Z,{className:"product-supplier",children:[(0,r.jsx)(m.G,{icon:y.Flz}),n.seller]}),(0,r.jsxs)(d.Z,{className:"product-price",children:["$",n.price]})]})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(i.ZP,{sm:7,xs:7,lg:6,md:6,xl:6,className:"product-quantity",justify:"center",children:[(0,r.jsx)(d.Z,{className:"quantity-border",onClick:function(){u>1&&s((function(t){return t-1}))},children:"-"}),(0,r.jsx)(d.Z,{className:"quantity",children:u}),(0,r.jsx)(d.Z,{className:"quantity-border",onClick:function(){s((function(t){return t+1}))},children:"+"})]}),(0,r.jsx)(i.ZP,{sm:3,xs:3,lg:6,md:6,xl:6,children:(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(p.Z.Trigger,{children:(0,r.jsx)(h.ZP,{onClick:function(){return e(n,u)},className:"button-text",color:"warning",auto:!0,flat:!0,children:"Agregar"})}),(0,r.jsx)(p.Z.Content,{children:(0,r.jsx)(d.Z,{css:{p:"$10"},children:"Agregado exitosamente!"})})]})})]})]})})})}var x=e(8754),j=e(5141),v=e(3002),b=function(t){var n=t.categories,e=t.category,o=t.setCategory;return(0,r.jsx)("div",{className:"selector-container",children:n.length>1&&(0,r.jsxs)(v.ZP,{triggerType:"listbox",children:[(0,r.jsx)(v.ZP.Button,{className:"selector",children:e.name}),(0,r.jsx)(v.ZP.Menu,{"aria-label":"Dynamic Actions",items:n,selectedKeys:e.key,onAction:function(t){o(n.find((function(n){return n.key===t})))},children:n.map((function(t){return(0,r.jsx)(v.ZP.Item,{color:"delete"===t.key?"error":"default",children:t.name},t.key)}))})]})})},w=e(961);function P(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function C(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"===typeof t)return P(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return P(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=!0;function O(t){var n=(0,w.j)(),e=(0,a.useState)([]),l=e[0],f=e[1],d=(0,a.useState)([{key:"",name:"Todos"}]),p=d[0],h=d[1],m=(0,a.useState)({key:"",name:"Todos"}),y=m[0],v=m[1],P=(0,a.useState)(1),Z=P[0],O=P[1],S=(0,a.useState)(1),k=S[0],N=S[1],_=(0,a.useState)(!0),E=_[0],R=_[1];(0,a.useEffect)((function(){(0,x.Xp)().then((function(t){f(t.products),O(t.totalPages),R(!1)})),(0,x.CP)().then((function(t){var n=[];t.map((function(t){return n.push({key:t.slug,name:t.name})})),h([{key:"",name:"Todos"}].concat(C(n)))}))}),[]);var T=function(t,n){(0,x.Xp)(t,n.key).then((function(n){N(t),O(n.totalPages),f(n.products)}))};return(0,a.useEffect)((function(){N(1),T(1,y)}),[y]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Z,{title:"Eleg\xed el rubro y encontr\xe1 tus productos",user:t.user,cart:n.Cart}),(0,r.jsxs)(o.Z,{css:{backgroundColor:"#fff"},children:[(0,r.jsx)(c.Z,{css:{backgroundColor:"#fff"},children:(0,r.jsx)(b,{categories:p,setCategory:function(t){return v(t)},category:y})}),E?(0,r.jsx)(u.ZP,{css:{margin:"auto",width:"100%",paddingTop:"10vh"},color:"warning",children:"Cargando..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.ZP.Container,{gap:2,css:{padding:0,backgroundColor:"#fff"},children:l.map((function(t){return(0,r.jsx)(i.ZP,{xs:12,sm:12,md:6,lg:4,xl:4,children:(0,r.jsx)(g,{addProduct:function(t,e){return function(t,e){n.addProduct(t,e)}(t,e)},item:t},t.code)},t.code)}))}),(0,r.jsx)(i.ZP.Container,{gap:2,css:{padding:0},children:(0,r.jsx)(i.ZP,{justify:"center",md:12,lg:12,xl:12,xs:12,sm:12,children:(0,r.jsx)(s.ZP,{initialPage:1,total:Z,onChange:function(t){return T(t,y)},color:"warning",page:k})})})]})]})]})}},961:function(t,n,e){"use strict";e.d(n,{j:function(){return o}});var r=e(7294);function o(){var t=(0,r.useState)({products:[],total:0}),n=t[0],e=t[1],o=function(t){var n=0;return t.map((function(t){return n+=t.total})),n},c=function(t){e({total:o(t),products:t}),localStorage.setItem("cart",JSON.stringify({total:o(t),products:t}))};return(0,r.useEffect)((function(){var t=localStorage.getItem("cart");t&&e(JSON.parse(t))}),[]),{Cart:n,addProduct:function(t,e){var r={code:t.code,name:t.name,qty:e,price:t.price,minimum:t.minimum,total:t.price*e,picture:t.picture},o=n.products;o.find((function(t){return t.code==r.code}))?o=o.map((function(t){return t.code==r.code?r:t})):o.push(r),c(o)},removeProduct:function(t){var e=n.products.filter((function(n){return n.code!==t.code}));c(e)},removeCart:function(){e({products:[],total:0}),localStorage.removeItem("cart")}}}}},function(t){t.O(0,[523,793,710,218,671,774,888,179],(function(){return n=7153,t(t.s=n);var n}));var n=t.O();_N_E=n}]);