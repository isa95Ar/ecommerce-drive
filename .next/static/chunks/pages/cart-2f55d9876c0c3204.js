(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{9372:function(t,e,r){"use strict";r.d(e,{ZP:function(){return b}});var a=r(9641),n=r(7294),o=r(3952),i=r(2903),s=r(3569),c=r(1309),u=r(275),l=r(9975);var d=(0,u.zo)("span",{dflex:"center",position:"relative",zIndex:"$1",boxSizing:"border-box",overflow:"hidden",verticalAlign:"top",cursor:"auto",transition:"transform 250ms ease 0ms, box-shadow 0.25s ease 0s",".nextui-avatar-bg":{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:"$2",transition:"$avatar",size:"100%"},".nextui-avatar-img":{opacity:0,zIndex:"$3",display:"flex",bg:"$background",transition:"transform 250ms ease 0ms, opacity 200ms ease-in 0ms",width:"100%",height:"100%",objectFit:"cover"},'&[data-state="ready"] .nextui-avatar-img':{opacity:1},".nextui-avatar-icon":{display:"flex",position:"absolute",left:"50%",top:"50%",ta:"center",zIndex:"$2",transform:"translate(-50%, -50%)",whiteSpace:"nowrap",us:"none"},".nextui-avatar-text":{position:"absolute",zIndex:"$2",left:"50%",top:"50%",ta:"center",color:"$text",fontWeight:"$medium",transform:"translate(-50%, -50%) scale(0.65)",whiteSpace:"nowrap",us:"none"},"@motion":{transition:"none",".nextui-avatar-bg, .nextui-avatar-img":{transition:"none"}},variants:{color:{default:{".nextui-avatar-bg":{bg:"$accents2"}},primary:{".nextui-avatar-bg":{bg:"$primary"}},secondary:{".nextui-avatar-bg":{bg:"$secondary"}},success:{".nextui-avatar-bg":{bg:"$success"}},warning:{".nextui-avatar-bg":{bg:"$warning"}},error:{".nextui-avatar-bg":{bg:"$error"}},gradient:{".nextui-avatar-bg":{bg:"$gradient"}}},textColor:{default:{".nextui-avatar-text":{color:"$text"}},white:{".nextui-avatar-text":{color:"$white"}},primary:{".nextui-avatar-text":{color:"$primary"}},secondary:{".nextui-avatar-text":{color:"$secondary"}},success:{".nextui-avatar-text":{color:"$success"}},warning:{".nextui-avatar-text":{color:"$warning"}},error:{".nextui-avatar-text":{color:"$error"}}},size:{xs:{$$avatarXs:"$space$9",sizeMin:"$$avatarXs",".nextui-avatar-text":{fontSize:"$sm"}},sm:{$$avatarSm:"$space$11",sizeMin:"$$avatarSm",".nextui-avatar-text":{fontSize:"$md"}},md:{$$avatarMd:"$space$14",sizeMin:"$$avatarMd",".nextui-avatar-text":{fontSize:"$lg"}},lg:{$$avatarLg:"$space$16",sizeMin:"$$avatarLg",".nextui-avatar-text":{fontSize:"$xl"}},xl:{$$avatarXl:"$space$18",sizeMin:"$$avatarXl",".nextui-avatar-text":{fontSize:"$2xl"}}},borderWeight:{light:{".nextui-avatar-img":{borderWidth:"$light"}},normal:{".nextui-avatar-img":{borderWidth:"$normal"}},bold:{".nextui-avatar-img":{borderWidth:"$normal"}},extrabold:{".nextui-avatar-img":{borderWidth:"$normal"}},black:{".nextui-avatar-img":{borderWidth:"$normal"}}},bordered:{true:{".nextui-avatar-img":{borderStyle:"solid",borderColor:"$background"}}},stacked:{true:{ml:"-$5"}},pointer:{true:{cursor:"pointer","&:hover .nextui-avatar-bg":{boxShadow:"inset 0 0 40px 0 rgb(0 0 0 / 14%)"}}},rounded:{true:{borderRadius:"$rounded",".nextui-avatar-img":{borderRadius:"$rounded"}}},squared:{true:{borderRadius:"$squared",".nextui-avatar-img":{borderRadius:"$squared"}}},zoomed:{true:{"&:hover .nextui-avatar-img":{transform:"scale(1.125)"}}}},compoundVariants:[{bordered:!0,borderWeight:"light",css:{padding:"calc($1/2)"}},{bordered:!0,borderWeight:"normal",css:{padding:"$1"}},{bordered:!0,borderWeight:"bold",css:{padding:"calc($2/1.5)"}},{bordered:!0,borderWeight:"extrabold",css:{padding:"$2"}},{bordered:!0,borderWeight:"black",css:{padding:"calc($3/1.5)"}},{rounded:!0,squared:!0,css:{borderRadius:"$squared",".nextui-avatar-img":{borderRadius:"$squared"}}},{bordered:!0,pointer:!0,css:{"&:hover:not(.only-text-avatar) .nextui-avatar-bg":{opacity:"0.7"}}}],defaultVariants:{size:"md",rounded:!0,color:"default",textColor:"default",borderWeight:"normal"}},l.BM),x=r(5893);const m=n.forwardRef(((t,e)=>{const{as:r,src:s,css:u,text:l,icon:m,alt:v,className:f,...p}=t,h=(0,i.gy)(e),g=!s,[b,$]=(0,n.useState)(!1),j=(0,n.useRef)(null),{isFocusVisible:y,focusProps:w}=(0,a.Fx)();(0,n.useEffect)((()=>{var t;(null==j||null==(t=j.current)?void 0:t.complete)&&$(!0)}),[]);const C=(0,n.useMemo)((()=>!b&&s?"loading":"ready"),[s,b]);return(0,x.jsxs)(d,{ref:h,as:r,...(0,o.dG)(p,w),className:(0,c.Z)({"only-text-avatar":g},f),css:"button"===r?{appearance:"none",outline:"none",border:"none",cursor:"pointer",...u}:u,"data-state":C,isFocusVisible:y,children:[(0,x.jsx)("span",{className:"nextui-avatar-bg"}),!g&&(0,x.jsx)("img",{ref:j,alt:v,className:(0,c.Z)("nextui-avatar-img",`nextui-avatar--${C}`,{"nextui-avatar-ready":b}),"data-state":C,src:s,onLoad:()=>$(!0)}),g&&!m&&l&&(0,x.jsx)("span",{className:"nextui-avatar-text",children:(N=l,(null==N?void 0:N.length)<=4?N:null==N?void 0:N.slice(0,3))}),m&&(0,x.jsx)("span",{className:"nextui-avatar-icon",children:m})]});var N}));s.Ts&&(m.displayName="NextUI.Avatar"),m.toString=()=>".nextui-avatar";var v=m;const f=(0,u.zo)("span",{fontSize:"$xs",display:"inline-flex",alignItems:"center",marginLeft:"$3",color:"$text"});var p=(0,u.zo)("div",{dflex:"center",height:"auto",width:"max-content","@motion":{transition:"none"},[`& ${d}`]:{marginLeft:"-$space$5",transition:"$default",".only-text-avatar":{boxShadow:"$xs"}},".only-text-avatar":{boxShadow:"$xs"},variants:{animated:{true:{[`& ${d}:hover`]:{transform:"translate(-$space$5)"}}}},defaultVariants:{animated:!0}});const h=n.forwardRef(((t,e)=>{const{count:r,children:a,...n}=t,o=(0,i.gy)(e);return(0,x.jsxs)(p,{ref:o,...n,children:[a,r&&(0,x.jsxs)(f,{className:"nextui-avatar-group-count",children:["+",r]})]})}));s.Ts&&(h.displayName="NextUI.AvatarGroup"),h.toString=()=>".nextui-avatar-group";var g=h;v.Group=g;var b=v},1742:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return r(3811)}])},5141:function(t,e,r){"use strict";r.d(e,{Z:function(){return x}});var a=r(5893),n=(r(7294),r(7690)),o=r(189),i=r(6979),s=r(1163);function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),a.forEach((function(e){c(t,e,r[e])}))}return t}function l(t,e){if(null==t)return{};var r,a,n=function(t,e){if(null==t)return{};var r,a,n={},o=Object.keys(t);for(a=0;a<o.length;a++)r=o[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var d=function(t){var e=t.fill,r=void 0===e?"currentColor":e,n=t.size,o=t.height,i=t.width,s=l(t,["fill","size","height","width"]);return(0,a.jsx)("div",{style:{cursor:"pointer"},children:(0,a.jsxs)("svg",u({width:n||i||24,height:n||o||24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{children:[(0,a.jsx)("path",{d:"M16.25 22.5C17.2165 22.5 18 21.7165 18 20.75C18 19.7835 17.2165 19 16.25 19C15.2835 19 14.5 19.7835 14.5 20.75C14.5 21.7165 15.2835 22.5 16.25 22.5Z",fill:r}),(0,a.jsx)("path",{d:"M8.25 22.5C9.2165 22.5 10 21.7165 10 20.75C10 19.7835 9.2165 19 8.25 19C7.2835 19 6.5 19.7835 6.5 20.75C6.5 21.7165 7.2835 22.5 8.25 22.5Z",fill:r}),(0,a.jsx)("path",{d:"M4.84 3.94L4.64 6.39C4.6 6.86 4.97 7.25 5.44 7.25H20.75C21.17 7.25 21.52 6.93 21.55 6.51C21.68 4.74 20.33 3.3 18.56 3.3H6.27C6.17 2.86 5.97 2.44 5.66 2.09C5.16 1.56 4.46 1.25 3.74 1.25H2C1.59 1.25 1.25 1.59 1.25 2C1.25 2.41 1.59 2.75 2 2.75H3.74C4.05 2.75 4.34 2.88 4.55 3.1C4.76 3.33 4.86 3.63 4.84 3.94Z",fill:r}),(0,a.jsx)("path",{d:"M20.5101 8.75H5.17005C4.75005 8.75 4.41005 9.07 4.37005 9.48L4.01005 13.83C3.87005 15.54 5.21005 17 6.92005 17H18.0401C19.5401 17 20.8601 15.77 20.9701 14.27L21.3001 9.6C21.3401 9.14 20.9801 8.75 20.5101 8.75Z",fill:r})]}))})},x=function(t){var e=t.title,r=t.user,c=t.cart,u=(0,s.useRouter)();return(0,a.jsxs)("div",{className:"header",children:[r.logged&&(0,a.jsxs)("div",{className:"logout-button",children:[(0,a.jsxs)(n.ZP,{className:"logout-button",onClick:function(){return u.push("/api/logout")},children:["Cerrar Session (",r.name,")"]}),c&&(0,a.jsx)(o.ZP,{css:{cursor:"pointer"},color:"warning",content:c.products.length,shape:"circle",children:(0,a.jsx)(d,{fill:"white",size:30,width:24,height:24,onClick:function(){return u.push("/cart")}})})]}),(0,a.jsx)(i.Z,{className:"header-text",children:e})]})}},3811:function(t,e,r){"use strict";r.r(e),r.d(e,{__N_SSP:function(){return y},default:function(){return w}});var a=r(4051),n=r.n(a),o=r(5893),i=r(1713),s=r(5141),c=r(3165),u=r(2553),l=r(7690),d=r(7294),x=r(9372),m=r(6979),v=r(2814),f=r(9398),p=function(t){var e=t.product,r=t.deleteProduct,a=t.addProduct,n=(0,d.useState)(e.qty),i=n[0],s=n[1];return(0,o.jsxs)("div",{className:"product-cart",children:[(0,o.jsx)("div",{className:"product-image-container",children:(0,o.jsx)(x.ZP,{src:"https://www.pequerecetas.com/wp-content/uploads/2010/04/empanadas-argentinas.jpg",size:"xl"})}),(0,o.jsxs)("div",{className:"title-buttons",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(m.Z,{className:"product-name",children:e.name}),(0,o.jsx)("small",{className:"product-description",children:e.minimum})]}),(0,o.jsxs)("div",{className:"product-buttons",children:[(0,o.jsx)(m.Z,{className:"quantity-border",onClick:function(){i>1&&(s((function(t){return t-1})),a(e,i-1))},children:"-"}),(0,o.jsx)(m.Z,{className:"quantity",children:i}),(0,o.jsx)(m.Z,{className:"quantity-border",onClick:function(){s((function(t){return t+1})),a(e,i+1)},children:"+"})]})]}),(0,o.jsxs)("div",{className:"button-price",children:[(0,o.jsx)(v.G,{style:{cursor:"pointer"},icon:f.$aW,onClick:function(){return r(e)}}),(0,o.jsxs)(m.Z,{className:"product-price",children:["$",e.total.toFixed(2)]})]})]})},h=function(t){var e=t.total;return(0,o.jsxs)("div",{className:"total-cart",children:[(0,o.jsxs)("div",{className:"total-items",children:[(0,o.jsx)(m.Z,{className:"items-text",children:"Subtotal"}),(0,o.jsxs)(m.Z,{className:"items-text",children:["$",e.toFixed(2)]})]}),(0,o.jsx)("div",{className:"divider"}),(0,o.jsxs)("div",{className:"total-items",children:[(0,o.jsx)(m.Z,{className:"total-text",children:"Total"}),(0,o.jsxs)(m.Z,{className:"total-text",children:["$",e.toFixed(2)]})]})]})},g=r(961);function b(t,e,r,a,n,o,i){try{var s=t[o](i),c=s.value}catch(u){return void r(u)}s.done?e(c):Promise.resolve(c).then(a,n)}function $(t){return function(){var e=this,r=arguments;return new Promise((function(a,n){var o=t.apply(e,r);function i(t){b(o,a,n,i,s,"next",t)}function s(t){b(o,a,n,i,s,"throw",t)}i(void 0)}))}}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=!0;function w(t){var e=(0,g.j)(),r=function(){var t=$(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=$(n().mark((function t(r,a){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/orders",{method:"POST",body:JSON.stringify({products:e.Cart.products})});case 3:e.removeCart(),r(!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,o.jsx)(i.default,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),a.forEach((function(e){j(t,e,r[e])}))}return t}({},t,{children:t.user.logged&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{user:t.user,title:"Tu carrito",cart:e.Cart}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(u.ZP.Container,{justify:"center",gap:2,children:(0,o.jsxs)(u.ZP,{direction:"column",xs:12,sm:12,md:4,xl:8,lg:8,children:[e.Cart.products.map((function(t){return(0,o.jsx)(p,{deleteProduct:function(t){return e.removeProduct(t)},addProduct:function(t,r){return e.addProduct(t,r)},product:t},t.code)})),(0,o.jsx)(h,{total:e.Cart.total}),(0,o.jsx)(l.ZP,{disabled:e.Cart.products.length<0,className:"".concat(e.Cart.products.length>0?"button-total":"button-total-disabled"),onClick:r,children:"Realizar pedido"})]})})})]})}))}},1713:function(t,e,r){"use strict";r.r(e);var a=r(5893),n=r(9008),o=r.n(n);e.default=function(t){var e=t.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"AlMargen | Del otro lado de tu mesa"}),(0,a.jsx)("meta",{content:"width=device-width, initial-scale=1.0",name:"viewport"})]}),(0,a.jsx)("div",{children:e})]})}},961:function(t,e,r){"use strict";r.d(e,{j:function(){return n}});var a=r(7294);function n(){var t=(0,a.useState)({products:[],total:0}),e=t[0],r=t[1],n=function(t){var e=0;return t.map((function(t){return e+=t.total})),e},o=function(t){r({total:n(t),products:t}),localStorage.setItem("cart",JSON.stringify({total:n(t),products:t}))};return(0,a.useEffect)((function(){var t=localStorage.getItem("cart");t&&r(JSON.parse(t))}),[]),{Cart:e,addProduct:function(t,r){var a={code:t.code,name:t.name,qty:r,price:t.price,minimum:t.minimum,total:t.price*r},n=e.products;n.find((function(t){return t.code==a.code}))?n=n.map((function(t){return t.code==a.code?a:t})):n.push(a),o(n)},removeProduct:function(t){var r=e.products.filter((function(e){return e.code!==t.code}));o(r)},removeCart:function(){r({products:[],total:0}),localStorage.removeItem("cart")}}}}},function(t){t.O(0,[523,258,814,187,774,888,179],(function(){return e=1742,t(t.s=e);var e}));var e=t.O();_N_E=e}]);